{% extends "base.html" %}

{% block content %}
<div style="max-width: 800px; margin: 0 auto;">
    
    <div style="text-align: center; margin-bottom: 40px;">
        <h2 style="color: #9b8ba3;">ğŸ“… æ¯æ—¥ç©¿æ­åš®å°</h2>
        <p style="color: #666;">æ—©å®‰ï¼Œ{{ session.user_name }}ï¼é€™æ˜¯ç‚ºæ‚¨æº–å‚™çš„ä»Šæ—¥ç­–ç•¥ã€‚</p>
    </div>

    <div style="display: flex; gap: 20px; flex-wrap: wrap;">
        
        <div class="card" style="flex: 1; min-width: 300px; background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); color: #555;">
            <h3 style="margin-top: 0;">ä»Šæ—¥å¤©æ°£ (Taoyuan)</h3>
            <div style="font-size: 3em; font-weight: bold; margin: 10px 0;">
                {{ weather.temp }}Â°C
            </div>
            <div style="font-size: 1.2em; margin-bottom: 10px;">
                æ¿•åº¦ {{ weather.humidity }}% | {{ weather.desc }}
            </div>
            <p style="background: rgba(255,255,255,0.6); padding: 10px; border-radius: 10px;">
                ğŸ’¡ é«”æ„Ÿæç¤ºï¼š
                {% if weather.humidity > 80 %}
                    æ¿•åº¦å¾ˆé«˜ï¼Œé«”æ„Ÿæœƒæ¯”å¯¦éš›æº«åº¦æ›´æ‚¶ç†±ï¼Œå‹™å¿…é¸æ“‡é€æ°£æè³ªã€‚
                {% elif weather.temp < 18 %}
                    æ—©æ™šæº«å·®å¤§ï¼Œåˆ¥å¿˜äº†å¸¶ä»¶å¤–å¥—ã€‚
                {% else %}
                    èˆ’é©å®œäººï¼Œé©åˆå„ç¨®ç©¿æ­ï¼
                {% endif %}
            </p>
        </div>

        <div class="card" style="flex: 1; min-width: 300px;">
            <h3 style="margin-top: 0;">ä»Šæ—¥è¡Œç¨‹</h3>
            {% if events %}
                {% for event in events %}
                <div style="background: #fdfdfd; padding: 10px; border-left: 4px solid #9b8ba3; margin-bottom: 10px; border-radius: 5px;">
                    <strong>{{ event.title }}</strong>
                    <div style="font-size: 0.9em; color: #888;">{{ event.outfit_desc }}</div>
                </div>
                {% endfor %}
            {% else %}
                <div style="text-align: center; padding: 20px; color: #aaa;">
                    ä»Šå¤©æ²’æœ‰ç‰¹åˆ¥å®‰æ’ï¼Œäº«å—è‡ªç”±çš„ä¸€å¤©å§ï¼
                </div>
            {% endif %}
        </div>
    </div>

    <div class="card" style="margin-top: 20px; border: 2px solid #9b8ba3;">
        <h3 style="color: #9b8ba3; text-align: center;">âœ¨ AI ç¶œåˆç©¿æ­å»ºè­°</h3>
        <div style="display: flex; justify-content: center; align-items: center; gap: 20px; flex-wrap: wrap; margin-top: 20px;">
            <div style="font-size: 5em;">ğŸ§¥</div> 
            <div>
                <ul style="line-height: 1.8; font-size: 1.1em;">
                    {% for item in advice %}
                        <li>{{ item }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
        <div style="text-align: center; margin-top: 20px;">
            <a href="{{ url_for('shop_page') }}" class="btn btn-primary">å»è¡£æ«ƒæ‰¾é¡ä¼¼å–®å“</a>
        </div>
    </div>

</div>
{% endblock %}